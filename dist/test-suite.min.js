/* test-suite0.0.11 2019-03-21 */

"use strict";!function(u,p){function e(t,e){!p&&console.log(e||"",t,"[0m"),p&&console.log("%c"+t,e?"color:"+e:"")}var n,s={printError:!0,printLog:!0,attachErrorOnBody:!0,onAsyncTerminate:function(){},onSuiteTerminate:function(){}};function t(t){var o,n=this;n.options=function t(e,n,s){if(Object.hasOwnProperty("assign"))return Object.assign(n,e);var r=Array.isArray(n)?[]:{};for(var o in n){var i=Object.prototype.toString.call(n[a]);"[object Object]"!=i&&"[object Array]"!=i||!n[o]?r[o]=e[o]||n[o]:r[o]=e[o]?t(e[o],n[o],s):n[o]}if(s)for(var a in e)r[a]=r[a]||e[a];return r}(t||{},s,!0),n.log=n.options.printLog?e:function(){},n.tests=[],n.html="",n.__testcase=null,n.__testsuite=null,n.asyncTests={pendingTests:[],add:function(t,e){var n={testcase:t,suite:e};return this.pendingTests.push(n)},remove:function(e){this.pendingTests=this.pendingTests.filter(function(t){return t.testcase!==e}),this.pendingTests.length||n.options.onAsyncTerminate(n)}},p&&(o=n.options.printLog,window?window.addEventListener("error",function(t){var e="Message: "+t.message,n="\nFilename: "+t.filename,s="\n Position -> line: "+t.lineno+", col: "+t.colno,r="\n Error: "+t.error;console.error("[testSuite.js logging window errors]",e,n,s,r),o&&(document.body.innerHTML+="<h1 style='width:100%!important;display:block!important;opacity:1!important;color:red!important;text-shadow: 1px 1px 1em black!important;font-size:24px!important;position:static!important;float:left!important;transform:none!important;text-indent:0!important'>[testSuite.js error monitoring]\n"+e+n+s+r+"</h1>")}):(new(require("events"))).on("error",function(t){console.error("[testSuite.js error monitoring]\n",JSON.stringify(t))}))}!function(t){function n(t,e){return this.el=t,this.negation=!1,this.options=e||{},this}function a(t){var e=this;return e.negation&&(t=!t),e.options.cb&&e.options.cb(t),t}n.prototype.not=function(){return this.negation=!this.negation,this},n.prototype.toBe=function(t){var e=this.el===t;return a.call(this,e)},n.prototype.toBeUndefined=function(){var t=void 0===this.el;return a.call(this,t)},n.prototype.toBeNull=function(){var t=null===this.el;return a.call(this,t)},n.prototype.toBeBoolean=function(){var t="boolean"==typeof this.el;return a.call(this,t)},n.prototype.toBeNumber=function(){var t="number"==typeof this.el;return a.call(this,t)},n.prototype.toBeString=function(){var t="string"==typeof this.el;return a.call(this,t)},n.prototype.toBeObject=function(){var t="object"==typeof this.el;return a.call(this,t)},n.prototype.toBeArray=function(){var t=Array.isArray(this.el);return a.call(this,t)},n.prototype.toBeDate=function(){var t="[object Date]"===Object.prototype.toString.call(this.el);return a.call(this,t)},n.prototype.toBeInView=function(t,e,n){if(e=e||1,n=n||1,!this.el instanceof Element)throw new Error("toBeInView called without HTMLElement, or wrong type");var s,r=this.el.getBoundingClientRect(),o=document.documentElement.clientWidth,i=document.documentElement.clientHeight;return((s=t?!(0==r.top&&0==r.bottom&&0==r.left&&0==r.right)&&(0<=r.top&&r.top<i||r.bottom<i&&0<=r.bottom)&&(0<=r.left&&r.left<o||r.right<o&&0<=r.right):!(0==r.top&&0==r.bottom&&0==r.left&&0==r.right)&&0<=r.top&&0<=r.left&&r.bottom<=document.documentElement.clientHeight&&r.right<=document.documentElement.clientWidth)&&r.width<e||r.height<n)&&(s=!1),a.call(this,s)},n.prototype.toBeCloseTo=function(t,e){var n=this;e=e||1;var s=!isNaN(t)&&(n.el+e>=t&&n.el<=t||n.el-e<=t&&n.el>=t);return a.call(this,s)},n.prototype.toBeGreaterThan=function(t){var e=this.el>t;return a.call(this,e)},n.prototype.toBeGreaterThanOrEqual=function(t){var e=this.el>=t;return a.call(this,e)},n.prototype.toBeLessThan=function(t){var e=this.el<t;return a.call(this,e)},n.prototype.toBeLessThanOrEqual=function(t){var e=this.el<=t;return a.call(this,e)},t.expect=function(t,e){return new n(t,e)}}("undefined"!=typeof window?window:module.exports),(n="undefined"!=typeof window?window:module.exports).performanceMeasuring={startPerf:function(){return n.performance?n.performance.now():process.hrtime()},endPerf:function(t){if(n.performance)return n.performance.now()-t;var e=process.hrtime(t);return console.log(e),1e3*e[0]+e[1]/1e6}},Object.defineProperty(t.prototype,"getTotalResult",{get:function(){var t=this.tests,n={total:0,passed:0,failed:0,pendings:this.asyncTests.pendingTests.length};return t.forEach(function(t){return t.testCases.forEach(function(t){Array.isArray(t.value)?t.value.forEach(function(t,e){n.total++,t?n.passed++:n.failed++}):(isNaN(t.value)?n.failed++:n.passed++,n.total++)})}),n}}),t.prototype.createSuite=function(t,e){var n=this,s=n.tests.push({label:t,testCases:[],type:"general"});n.log("[testSuite.js creating general suite] "+t),e(),n.asyncTests.pendingTests.filter(function(t){return t.suite===n.tests[s-1]}).length?n.log("[testSuite.js general suite] suite called \n"+t+" \nhave asynchronous test cases"):n.options.onSuiteTerminate(n.tests[s-1])},t.prototype.createTestCase=function(t,e){var n=this,s=n.tests[n.tests.length-1];if(!s||"general"!=s.type)throw new Error("testSuite().createTestCase called without browserTestSuite.testSuite defined. Declaring testSuite is expected, defining a testCase in suitePerformance is not possible");var r=s.testCases.push({label:t,value:[]});n.__testcase=s.testCases[r-1];var o=n.__testcase.value.length;e(function(t){n.__testcase=s.testCases[r-1],n.__testsuite=s,t()}),n.__testcase.value.length==o&&n.asyncTests.add(n.__testcase,s)},t.prototype.expect=function(t){var n=this,s=n.tests[n.tests.length-1];if(void 0===s)throw new Error("testSuite().expect called without testSuite defined. Declaring general testSuite is expected");var r=s.testCases[s.testCases.length-1];if(void 0===r)throw new Error("testSuite().expect called without testCase defined. Declaring general testSuite is expected");var e={cb:function(t){s=n.__testsuite,(r=n.__testcase).value.push(t),n.log("[testSuite.js creating testcase] "+r.label);var e=p?"green":"[32m ";t||(e=p?"red":"[31m "),n.log("[testSuite.js"+r.label+" #"+(r.value.length-1)+"] = "+t,e),n.asyncTests.pendingTests.filter(function(t){return t.testcase===r}).length&&(n.asyncTests.remove(r),!n.asyncTests.pendingTests.filter(function(t){return t.suite===s}).length&&n.options.onSuiteTerminate(s))}};return u.expect(t,e)},t.prototype.drawing=function(){var t,e='<table class="testSuite-suite" width="100%"><tbody>',n=this.tests,s=n.length;for(t=0;t<s;t++){e+='<tr><th colspan="2"><h1>'+n[t].label+"</h1></th></tr>";var r,o=n[t],i=o.testCases,a=i.length,l="";for(r=0;r<a;r++){var c,u=i[r],p=u.value;if(Array.isArray(p)||"perf"!=o.type){var h=p.length;for(c=0;c<h;c++)e+='<tr style="color:white;text-align:center;background-color:'+(p[c]?"green":"red")+'">',l=1<p.length?" #"+c:"",e+='<td style="width:50%"><h3 style="padding:0 10px">'+i[r].label+l+"</h3></td><td><h4>"+p[c]+"</h4></td>",e+="</tr>"}else e+='<tr style="color:white;text-align:center;background-color:'+(o.faster==r?"green":"red")+'">',e+='<td style="width:50%"><h3 style="padding:0 10px">'+u.label+"</h3></td><td><h4>"+p+"</h4></td>",e+="</tr>"}}return e+="</tbody></table>",this.html=e,this},t.prototype.showHtmlInPopUp=function(){var e=this;return e.testWindowPopup=window.open("","_blank","scrollbars=yes,width=320,height=550"),e.testWindowPopup.document.write(this.html),window.addEventListener("unload",function(t){e.testWindowPopup&&e.testWindowPopup.close()}),this},t.prototype.showHtml=function(t,e){return t=t||document.body,e?t.innerHTML+=this.html:t.innerHTML=this.html,this},t.prototype.createSuitePerformance=function(t,e){var n=this,s=n.tests.push({label:t,testCases:[],get faster(){var t=this.testCases.concat().sort(function(t,e){return t.value-e.value});return this.testCases.indexOf(t[0])},get slower(){var t=this.testCases.concat().sort(function(t,e){return e.value-t.value});return this.testCases.indexOf(t[0])},type:"perf"});n.log("[testSuite.js creating performance suite] "+t),e(),n.asyncTests.pendingTests.filter(function(t){return t.suite===n.tests[s-1]}).length?n.log("[testSuite.js performance suite] suite called \n"+t+" \nhave asynchronous test cases"):n.options.onSuiteTerminate(n.tests[s-1])},t.prototype.createPerformanceTestCase=function(s,r,o){var i,a,l=this,c=l.tests[l.tests.length-1],t=function(t){i=u.performanceMeasuring.endPerf(a);var e=c.testCases.push({label:s,value:i}),n=p?"green":"[32m ";c.faster!=e-1&&(n=p?"red":"[31m "),l.log("[testSuite.js testcase performance terminated] "+s+" - test case #"+(e-1)+" = "+i,n),o&&l.asyncTests.remove(r),o&&!l.asyncTests.pendingTests.filter(function(t){return t.suite===c}).length&&l.options.onSuiteTerminate(c),o&&t&&t(i)};if(a=u.performanceMeasuring.startPerf(),!o)return r(),t(),i;l.asyncTests.add(r,c),r(t)},u.testSuite=t}("undefined"!=typeof window?window:module.exports,"undefined"!=typeof window);
//# sourceMappingURL=test-suite.min.js.map